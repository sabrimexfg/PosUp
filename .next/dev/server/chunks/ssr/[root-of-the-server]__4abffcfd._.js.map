{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///Users/nando/Documents/GitHub/PosUp/src/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\";\nimport { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged, User } from \"firebase/auth\";\nimport {\n    Firestore,\n    getFirestore,\n    collection,\n    doc,\n    getDoc,\n    getDocs,\n    query,\n    where,\n    orderBy,\n    limit,\n    startAfter,\n    DocumentSnapshot,\n    initializeFirestore,\n    persistentLocalCache,\n    persistentMultipleTabManager,\n    onSnapshot\n} from \"firebase/firestore\";\n\nconst firebaseConfig = {\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n    measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID\n};\n\n// Initialize Firebase\nconst app = !getApps().length ? initializeApp(firebaseConfig) : getApp();\nconst auth = getAuth(app);\n\n// Initialize Firestore with Persistent Cache (IndexedDB)\n// We must ensure this runs only once to avoid \"Firestore has already been started\" errors\nlet db: Firestore;\ntry {\n    db = initializeFirestore(app, {\n        localCache: persistentLocalCache({\n            tabManager: persistentMultipleTabManager()\n        })\n    });\n    console.log(\"ðŸ”¥ Firestore initialized with persistence\");\n} catch (e) {\n    // If already initialized (e.g. fast refresh), just get the existing instance\n    console.log(\"âš ï¸ Firestore already initialized, reusing instance\");\n    db = getFirestore(app);\n}\n\nconst provider = new GoogleAuthProvider();\n\nexport {\n    auth,\n    db,\n    provider,\n    signInWithPopup,\n    signOut,\n    onAuthStateChanged,\n    collection,\n    doc,\n    getDoc,\n    getDocs,\n    query,\n    where,\n    orderBy,\n    limit,\n    startAfter,\n    onSnapshot\n};\nexport type { User, DocumentSnapshot };\n"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAmBA,MAAM,iBAAiB;IACnB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACjB;AAEA,sBAAsB;AACtB,MAAM,MAAM,CAAC,IAAA,2KAAO,IAAG,MAAM,GAAG,IAAA,iLAAa,EAAC,kBAAkB,IAAA,0KAAM;AACtE,MAAM,OAAO,IAAA,6KAAO,EAAC;AAErB,yDAAyD;AACzD,0FAA0F;AAC1F,IAAI;AACJ,IAAI;IACA,KAAK,IAAA,wLAAmB,EAAC,KAAK;QAC1B,YAAY,IAAA,yLAAoB,EAAC;YAC7B,YAAY,IAAA,iMAA4B;QAC5C;IACJ;IACA,QAAQ,GAAG,CAAC;AAChB,EAAE,OAAO,GAAG;IACR,6EAA6E;IAC7E,QAAQ,GAAG,CAAC;IACZ,KAAK,IAAA,iLAAY,EAAC;AACtB;AAEA,MAAM,WAAW,IAAI,wLAAkB"}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///Users/nando/Documents/GitHub/PosUp/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///Users/nando/Documents/GitHub/PosUp/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,gBAAc;QACd,aAAW;QACX,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///Users/nando/Documents/GitHub/PosUp/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file:///Users/nando/Documents/GitHub/PosUp/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        \"relative flex size-8 shrink-0 overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn(\"aspect-square size-full\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        \"bg-muted flex size-full items-center justify-center rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,8OAAC,8KAAwB;QACvB,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 399, "column": 0}, "map": {"version":3,"sources":["file:///Users/nando/Documents/GitHub/PosUp/src/components/ui/table.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        \"text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        \"p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,8OAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,8OAAC;YACC,aAAU;YACV,WAAW,IAAA,yHAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,sJACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 523, "column": 0}, "map": {"version":3,"sources":["file:///Users/nando/Documents/GitHub/PosUp/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 547, "column": 0}, "map": {"version":3,"sources":["file:///Users/nando/Documents/GitHub/PosUp/src/app/dashboard/inventory/page.tsx"],"sourcesContent":["\"use client\";\n\nexport const dynamic = \"force-dynamic\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { auth, db, onAuthStateChanged, User, collection, getDocs, query, orderBy, limit, startAfter, DocumentSnapshot } from \"@/lib/firebase\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Table, TableBody, TableCaption, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { ArrowLeft, Loader2, ImageOff } from \"lucide-react\";\nimport Link from \"next/link\";\n\ninterface Item {\n    id: string;\n    name: string;\n    category: string;\n    price: number;\n    currentStock: number;\n    imageUrl?: string;\n}\n\nexport default function InventoryPage() {\n    const [user, setUser] = useState<User | null>(null);\n    const [items, setItems] = useState<Item[]>([]);\n    const [lastDoc, setLastDoc] = useState<DocumentSnapshot | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [loadingMore, setLoadingMore] = useState(false);\n    const [hasMore, setHasMore] = useState(true);\n    const router = useRouter();\n\n    const ITEMS_PER_PAGE = 20;\n\n    useEffect(() => {\n        const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n            if (!currentUser) {\n                router.push(\"/\");\n            } else {\n                setUser(currentUser);\n                fetchItems(currentUser.uid, true); // Initial load\n            }\n        });\n        return () => unsubscribe();\n    }, [router]);\n\n    const fetchItems = async (uid: string, isInitial: boolean = false) => {\n        try {\n            if (isInitial) {\n                setLoading(true);\n            } else {\n                setLoadingMore(true);\n            }\n\n            const itemsRef = collection(db, `users/${uid}/items`);\n\n            let q = query(itemsRef, orderBy(\"name\"), limit(ITEMS_PER_PAGE));\n\n            if (!isInitial && lastDoc) {\n                q = query(itemsRef, orderBy(\"name\"), startAfter(lastDoc), limit(ITEMS_PER_PAGE));\n            }\n\n            const snapshot = await getDocs(q);\n            const newItems: Item[] = snapshot.docs.map(doc => ({\n                id: doc.id,\n                ...doc.data()\n            } as Item));\n\n            if (isInitial) {\n                setItems(newItems);\n            } else {\n                setItems(prev => [...prev, ...newItems]);\n            }\n\n            setLastDoc(snapshot.docs[snapshot.docs.length - 1]);\n            setHasMore(snapshot.docs.length === ITEMS_PER_PAGE);\n\n        } catch (error) {\n            console.error(\"Error fetching items:\", error);\n        } finally {\n            setLoading(false);\n            setLoadingMore(false);\n        }\n    };\n\n    const handleLoadMore = () => {\n        if (user && !loadingMore && hasMore) {\n            fetchItems(user.uid);\n        }\n    };\n\n    if (loading) {\n        return (\n            <div className=\"flex h-screen w-full flex-col p-8 space-y-4 max-w-6xl mx-auto\">\n                <div className=\"flex items-center gap-4\">\n                    <Skeleton className=\"h-10 w-32\" />\n                    <Skeleton className=\"h-8 w-64\" />\n                </div>\n                <div className=\"border rounded-md p-4\">\n                    <div className=\"space-y-4\">\n                        {Array.from({ length: 5 }).map((_, i) => (\n                            <div key={i} className=\"flex items-center space-x-4\">\n                                <Skeleton className=\"h-12 w-12 rounded-full\" />\n                                <div className=\"space-y-2\">\n                                    <Skeleton className=\"h-4 w-[250px]\" />\n                                    <Skeleton className=\"h-4 w-[200px]\" />\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n    return (\n        <div className=\"min-h-screen bg-gray-50/50 p-6\">\n            <div className=\"mx-auto max-w-6xl space-y-6\">\n                <div className=\"flex items-center gap-4\">\n                    <Link href=\"/dashboard\">\n                        <Button variant=\"outline\" size=\"icon\">\n                            <ArrowLeft className=\"h-4 w-4\" />\n                        </Button>\n                    </Link>\n                    <h1 className=\"text-3xl font-bold tracking-tight\">Inventory</h1>\n                </div>\n\n                <Card>\n                    <CardHeader>\n                        <CardTitle>Products ({items.length} {hasMore ? \"+\" : \"\"})</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                        <Table>\n                            <TableHeader>\n                                <TableRow>\n                                    <TableHead className=\"w-[80px]\">Image</TableHead>\n                                    <TableHead>Name</TableHead>\n                                    <TableHead>Category</TableHead>\n                                    <TableHead>Price</TableHead>\n                                    <TableHead>Stock</TableHead>\n                                </TableRow>\n                            </TableHeader>\n                            <TableBody>\n                                {items.length === 0 ? (\n                                    <TableRow>\n                                        <TableCell colSpan={5} className=\"text-center py-10 text-muted-foreground\">\n                                            No items found.\n                                        </TableCell>\n                                    </TableRow>\n                                ) : (\n                                    items.map((item) => (\n                                        <TableRow key={item.id}>\n                                            <TableCell>\n                                                <Avatar className=\"h-10 w-10 rounded-lg\">\n                                                    <AvatarImage src={item.imageUrl} alt={item.name} className=\"object-cover\" />\n                                                    <AvatarFallback className=\"rounded-lg\">\n                                                        <ImageOff className=\"h-4 w-4 text-muted-foreground\" />\n                                                    </AvatarFallback>\n                                                </Avatar>\n                                            </TableCell>\n                                            <TableCell className=\"font-medium\">{item.name}</TableCell>\n                                            <TableCell>{item.category}</TableCell>\n                                            <TableCell>${item.price.toFixed(2)}</TableCell>\n                                            <TableCell>\n                                                <span className={item.currentStock <= 0 ? \"text-red-500 font-medium\" : \"\"}>\n                                                    {item.currentStock}\n                                                </span>\n                                            </TableCell>\n                                        </TableRow>\n                                    ))\n                                )}\n                            </TableBody>\n                        </Table>\n\n                        {hasMore && (\n                            <div className=\"mt-6 flex justify-center\">\n                                <Button onClick={handleLoadMore} disabled={loadingMore} variant=\"secondary\">\n                                    {loadingMore ? (\n                                        <>\n                                            <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                                            Loading...\n                                        </>\n                                    ) : (\n                                        \"Load More\"\n                                    )}\n                                </Button>\n                            </div>\n                        )}\n\n                        {!hasMore && items.length > 0 && (\n                            <p className=\"text-center text-xs text-muted-foreground mt-6\">All items loaded.</p>\n                        )}\n\n                    </CardContent>\n                </Card>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;;;AAIA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAbA;;AAEO,MAAM,UAAU;;;;;;;;;;;AAsBR,SAAS;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAA0B;IAChE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,iBAAiB;IAEvB,IAAA,kNAAS,EAAC;QACN,MAAM,cAAc,IAAA,wLAAkB,EAAC,8IAAI,EAAE,CAAC;YAC1C,IAAI,CAAC,aAAa;gBACd,OAAO,IAAI,CAAC;YAChB,OAAO;gBACH,QAAQ;gBACR,WAAW,YAAY,GAAG,EAAE,OAAO,eAAe;YACtD;QACJ;QACA,OAAO,IAAM;IACjB,GAAG;QAAC;KAAO;IAEX,MAAM,aAAa,OAAO,KAAa,YAAqB,KAAK;QAC7D,IAAI;YACA,IAAI,WAAW;gBACX,WAAW;YACf,OAAO;gBACH,eAAe;YACnB;YAEA,MAAM,WAAW,IAAA,+KAAU,EAAC,4IAAE,EAAE,CAAC,MAAM,EAAE,IAAI,MAAM,CAAC;YAEpD,IAAI,IAAI,IAAA,0KAAK,EAAC,UAAU,IAAA,4KAAO,EAAC,SAAS,IAAA,0KAAK,EAAC;YAE/C,IAAI,CAAC,aAAa,SAAS;gBACvB,IAAI,IAAA,0KAAK,EAAC,UAAU,IAAA,4KAAO,EAAC,SAAS,IAAA,+KAAU,EAAC,UAAU,IAAA,0KAAK,EAAC;YACpE;YAEA,MAAM,WAAW,MAAM,IAAA,4KAAO,EAAC;YAC/B,MAAM,WAAmB,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;oBAC/C,IAAI,IAAI,EAAE;oBACV,GAAG,IAAI,IAAI,EAAE;gBACjB,CAAS;YAET,IAAI,WAAW;gBACX,SAAS;YACb,OAAO;gBACH,SAAS,CAAA,OAAQ;2BAAI;2BAAS;qBAAS;YAC3C;YAEA,WAAW,SAAS,IAAI,CAAC,SAAS,IAAI,CAAC,MAAM,GAAG,EAAE;YAClD,WAAW,SAAS,IAAI,CAAC,MAAM,KAAK;QAExC,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,yBAAyB;QAC3C,SAAU;YACN,WAAW;YACX,eAAe;QACnB;IACJ;IAEA,MAAM,iBAAiB;QACnB,IAAI,QAAQ,CAAC,eAAe,SAAS;YACjC,WAAW,KAAK,GAAG;QACvB;IACJ;IAEA,IAAI,SAAS;QACT,qBACI,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,gJAAQ;4BAAC,WAAU;;;;;;sCACpB,8OAAC,gJAAQ;4BAAC,WAAU;;;;;;;;;;;;8BAExB,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBAAI,WAAU;kCACV,MAAM,IAAI,CAAC;4BAAE,QAAQ;wBAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBAC/B,8OAAC;gCAAY,WAAU;;kDACnB,8OAAC,gJAAQ;wCAAC,WAAU;;;;;;kDACpB,8OAAC;wCAAI,WAAU;;0DACX,8OAAC,gJAAQ;gDAAC,WAAU;;;;;;0DACpB,8OAAC,gJAAQ;gDAAC,WAAU;;;;;;;;;;;;;+BAJlB;;;;;;;;;;;;;;;;;;;;;IAYlC;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,uKAAI;4BAAC,MAAK;sCACP,cAAA,8OAAC,4IAAM;gCAAC,SAAQ;gCAAU,MAAK;0CAC3B,cAAA,8OAAC,6NAAS;oCAAC,WAAU;;;;;;;;;;;;;;;;sCAG7B,8OAAC;4BAAG,WAAU;sCAAoC;;;;;;;;;;;;8BAGtD,8OAAC,wIAAI;;sCACD,8OAAC,8IAAU;sCACP,cAAA,8OAAC,6IAAS;;oCAAC;oCAAW,MAAM,MAAM;oCAAC;oCAAE,UAAU,MAAM;oCAAG;;;;;;;;;;;;sCAE5D,8OAAC,+IAAW;;8CACR,8OAAC,0IAAK;;sDACF,8OAAC,gJAAW;sDACR,cAAA,8OAAC,6IAAQ;;kEACL,8OAAC,8IAAS;wDAAC,WAAU;kEAAW;;;;;;kEAChC,8OAAC,8IAAS;kEAAC;;;;;;kEACX,8OAAC,8IAAS;kEAAC;;;;;;kEACX,8OAAC,8IAAS;kEAAC;;;;;;kEACX,8OAAC,8IAAS;kEAAC;;;;;;;;;;;;;;;;;sDAGnB,8OAAC,8IAAS;sDACL,MAAM,MAAM,KAAK,kBACd,8OAAC,6IAAQ;0DACL,cAAA,8OAAC,8IAAS;oDAAC,SAAS;oDAAG,WAAU;8DAA0C;;;;;;;;;;uDAK/E,MAAM,GAAG,CAAC,CAAC,qBACP,8OAAC,6IAAQ;;sEACL,8OAAC,8IAAS;sEACN,cAAA,8OAAC,4IAAM;gEAAC,WAAU;;kFACd,8OAAC,iJAAW;wEAAC,KAAK,KAAK,QAAQ;wEAAE,KAAK,KAAK,IAAI;wEAAE,WAAU;;;;;;kFAC3D,8OAAC,oJAAc;wEAAC,WAAU;kFACtB,cAAA,8OAAC,0NAAQ;4EAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;sEAIhC,8OAAC,8IAAS;4DAAC,WAAU;sEAAe,KAAK,IAAI;;;;;;sEAC7C,8OAAC,8IAAS;sEAAE,KAAK,QAAQ;;;;;;sEACzB,8OAAC,8IAAS;;gEAAC;gEAAE,KAAK,KAAK,CAAC,OAAO,CAAC;;;;;;;sEAChC,8OAAC,8IAAS;sEACN,cAAA,8OAAC;gEAAK,WAAW,KAAK,YAAY,IAAI,IAAI,6BAA6B;0EAClE,KAAK,YAAY;;;;;;;;;;;;mDAdf,KAAK,EAAE;;;;;;;;;;;;;;;;gCAuBrC,yBACG,8OAAC;oCAAI,WAAU;8CACX,cAAA,8OAAC,4IAAM;wCAAC,SAAS;wCAAgB,UAAU;wCAAa,SAAQ;kDAC3D,4BACG;;8DACI,8OAAC,4NAAO;oDAAC,WAAU;;;;;;gDAA8B;;2DAIrD;;;;;;;;;;;gCAMf,CAAC,WAAW,MAAM,MAAM,GAAG,mBACxB,8OAAC;oCAAE,WAAU;8CAAiD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ1F"}}]
}