module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},46058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},39118,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},NOT_FOUND_SEGMENT_KEY:function(){return m},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__",m="/_not-found"},30617,a=>{"use strict";let b=(0,a.i(70106).default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);a.s(["LayoutDashboard",()=>b],30617)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},47349,(a,b,c)=>{"use strict";var d=a.r(72131);d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},87610,(a,b,c)=>{"use strict";b.exports=a.r(47349)},72233,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=globalThis?.document?c.useLayoutEffect:()=>{};a.i(35112);var e=a.i(11011),f=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,d)=>{let f=(0,e.createSlot)(`Primitive.${d}`),g=c.forwardRef((a,c)=>{let{asChild:e,...g}=a;return(0,b.jsx)(e?f:d,{...g,ref:c})});return g.displayName=`Primitive.${d}`,{...a,[d]:g}},{}),g=a.i(87610);function h(){return()=>{}}var i="Avatar",[j,k]=function(a,d=[]){let e=[],f=()=>{let b=e.map(a=>c.createContext(a));return function(d){let e=d?.[a]||b;return c.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return f.scopeName=a,[function(d,f){let g=c.createContext(f);g.displayName=d+"Context";let h=e.length;e=[...e,f];let i=d=>{let{scope:e,children:f,...i}=d,j=e?.[a]?.[h]||g,k=c.useMemo(()=>i,Object.values(i));return(0,b.jsx)(j.Provider,{value:k,children:f})};return i.displayName=d+"Provider",[i,function(b,e){let i=e?.[a]?.[h]||g,j=c.useContext(i);if(j)return j;if(void 0!==f)return f;throw Error(`\`${b}\` must be used within \`${d}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return c.useMemo(()=>({[`__scope${b.scopeName}`]:e}),[e])}};return d.scopeName=b.scopeName,d}(f,...d)]}(i),[l,m]=j(i),n=c.forwardRef((a,d)=>{let{__scopeAvatar:e,...g}=a,[h,i]=c.useState("idle");return(0,b.jsx)(l,{scope:e,imageLoadingStatus:h,onImageLoadingStatusChange:i,children:(0,b.jsx)(f.span,{...g,ref:d})})});n.displayName=i;var o="AvatarImage",p=c.forwardRef((a,e)=>{var i;let j,{__scopeAvatar:k,src:l,onLoadingStatusChange:n=()=>{},...p}=a,q=m(o,k),r=function(a,{referrerPolicy:b,crossOrigin:e}){let f=(0,g.useSyncExternalStore)(h,()=>!0,()=>!1),i=c.useRef(null),j=f?(i.current||(i.current=new window.Image),i.current):null,[k,l]=c.useState(()=>s(j,a));return d(()=>{l(s(j,a))},[j,a]),d(()=>{let a=a=>()=>{l(a)};if(!j)return;let c=a("loaded"),d=a("error");return j.addEventListener("load",c),j.addEventListener("error",d),b&&(j.referrerPolicy=b),"string"==typeof e&&(j.crossOrigin=e),()=>{j.removeEventListener("load",c),j.removeEventListener("error",d)}},[j,e,b]),k}(l,p),t=(i=a=>{n(a),q.onImageLoadingStatusChange(a)},j=c.useRef(i),c.useEffect(()=>{j.current=i}),c.useMemo(()=>(...a)=>j.current?.(...a),[]));return d(()=>{"idle"!==r&&t(r)},[r,t]),"loaded"===r?(0,b.jsx)(f.img,{...p,ref:e,src:l}):null});p.displayName=o;var q="AvatarFallback",r=c.forwardRef((a,d)=>{let{__scopeAvatar:e,delayMs:g,...h}=a,i=m(q,e),[j,k]=c.useState(void 0===g);return c.useEffect(()=>{if(void 0!==g){let a=window.setTimeout(()=>k(!0),g);return()=>window.clearTimeout(a)}},[g]),j&&"loaded"!==i.imageLoadingStatus?(0,b.jsx)(f.span,{...h,ref:d}):null});function s(a,b){return a?b?(a.src!==b&&(a.src=b),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}r.displayName=q;var t=a.i(68114);function u({className:a,...c}){return(0,b.jsx)(n,{"data-slot":"avatar",className:(0,t.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...c})}function v({className:a,...c}){return(0,b.jsx)(p,{"data-slot":"avatar-image",className:(0,t.cn)("aspect-square size-full",a),...c})}function w({className:a,...c}){return(0,b.jsx)(r,{"data-slot":"avatar-fallback",className:(0,t.cn)("bg-muted flex size-full items-center justify-center rounded-full",a),...c})}a.s(["Avatar",()=>u,"AvatarFallback",()=>w,"AvatarImage",()=>v],72233)},49846,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(79353),e=a.i(31052),f=a.i(60574),g=a.i(99570),h=a.i(91119),i=a.i(72233),j=a.i(96221),k=a.i(70106);let l=(0,k.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var m=a.i(30617);let n=(0,k.default)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]]),o=(0,k.default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),p=(0,k.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var q=a.i(50944),r=a.i(38246);function s(){let[a,k]=(0,c.useState)(null),[s,t]=(0,c.useState)(!0),[u,v]=(0,c.useState)({businessName:"Loading...",itemCount:0,customerCount:0,source:"Loading..."});(0,c.useEffect)(()=>{let a=()=>{},b=()=>{},c=()=>{},g=(0,e.onAuthStateChanged)(d.auth,e=>{if(k(e),t(!1),e){let g=(0,f.doc)(d.db,"users",e.uid);a=(0,f.onSnapshot)(g,a=>{let b=a.metadata.fromCache?"Cache âš¡ï¸":"Live ðŸŸ¢",c="No Business Setup";if(a.exists()){let b=a.data();b.business&&b.business.name&&(c=b.business.name)}v(a=>({...a,businessName:c,source:b}))});let h=(0,f.collection)(d.db,`users/${e.uid}/items`);b=(0,f.onSnapshot)(h,a=>{let b=a.metadata.fromCache?"Cache âš¡ï¸":"Live ðŸŸ¢";v(c=>({...c,itemCount:a.size,source:b}))});let i=(0,f.collection)(d.db,`users/${e.uid}/customers`);c=(0,f.onSnapshot)(i,a=>{let b=a.metadata.fromCache?"Cache âš¡ï¸":"Live ðŸŸ¢";v(c=>({...c,customerCount:a.size,source:b}))})}else v({businessName:"Loading...",itemCount:0,customerCount:0,source:"Loading..."})});return()=>{g(),a(),b(),c()}},[]);let w=async()=>{try{await (0,e.signOut)(d.auth)}catch(a){console.error("Logout failed",a)}},{push:x}=(0,q.useRouter)();return((0,c.useEffect)(()=>{s||a||x("/dashboard/login")},[a,s,x]),s||!a)?(0,b.jsx)("div",{className:"flex h-screen w-full items-center justify-center",children:(0,b.jsx)(j.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50/50",children:[(0,b.jsx)("nav",{className:"border-b bg-white px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between mx-auto max-w-6xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 font-bold text-xl",children:[(0,b.jsx)(m.LayoutDashboard,{className:"h-6 w-6 text-primary"}),(0,b.jsx)("span",{children:"PosUp Dashboard"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium hidden sm:inline-block",children:a.displayName}),(0,b.jsxs)(i.Avatar,{children:[(0,b.jsx)(i.AvatarImage,{src:a.photoURL||""}),(0,b.jsx)(i.AvatarFallback,{children:a.displayName?.charAt(0)})]})]}),(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:w,children:[(0,b.jsx)(l,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]})}),(0,b.jsxs)("main",{className:"p-6 mx-auto max-w-6xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm bg-white px-3 py-1 rounded-full border shadow-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Status:"}),(0,b.jsx)("span",{className:`font-semibold ${u.source.includes("Cache")?"text-orange-500":"text-green-600"}`,children:u.source})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"Business"}),(0,b.jsx)(n,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(h.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:u.businessName}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Connected"})]})]}),(0,b.jsx)(r.default,{href:"/dashboard/inventory",className:"block transition-transform hover:scale-105",children:(0,b.jsxs)(h.Card,{className:"cursor-pointer hover:bg-accent/5",children:[(0,b.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"Total Products"}),(0,b.jsx)(o,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(h.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:u.itemCount}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Items in inventory"})]})]})}),(0,b.jsx)(r.default,{href:"/dashboard/customers",className:"block transition-transform hover:scale-105",children:(0,b.jsxs)(h.Card,{className:"cursor-pointer hover:bg-accent/5",children:[(0,b.jsxs)(h.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(h.CardTitle,{className:"text-sm font-medium",children:"Total Customers"}),(0,b.jsx)(p,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(h.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:u.customerCount}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Registered profiles"})]})]})})]})]})]})}a.s(["default",()=>s],49846)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__877a04e5._.js.map